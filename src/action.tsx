import ac1 from './assets/action2/2_0000.png'
import ac2 from './assets/action2/2_0001.png'
import ac3 from './assets/action2/2_0002.png'
import ac4 from './assets/action2/2_0003.png'
import ac5 from './assets/action2/2_0004.png'
import ac6 from './assets/action2/2_0005.png'
import ac7 from './assets/action2/2_0006.png'
import ac8 from './assets/action2/2_0007.png'
import ac9 from './assets/action2/2_0008.png'
import ac10 from './assets/action2/2_0009.png'
import ac11 from './assets/action2/2_0010.png'
import ac12 from './assets/action2/2_0011.png'
import ac13 from './assets/action2/2_0012.png'
import ac14 from './assets/action2/2_0013.png'
import ac15 from './assets/action2/2_0014.png'
import ac16 from './assets/action2/2_0015.png'
import ac17 from './assets/action2/2_0016.png'
import ac18 from './assets/action2/2_0017.png'
import ac19 from './assets/action2/2_0018.png'
import ac20 from './assets/action2/2_0019.png'
import ac21 from './assets/action2/2_0020.png'
import ac22 from './assets/action2/2_0021.png'
import ac23 from './assets/action2/2_0022.png'
import ac24 from './assets/action2/2_0023.png'
import ac25 from './assets/action2/2_0024.png'
import ac26 from './assets/action2/2_0025.png'
import ac27 from './assets/action2/2_0026.png'
import ac28 from './assets/action2/2_0027.png'
import ac29 from './assets/action2/2_0028.png'
import ac30 from './assets/action2/2_0029.png'
import ac31 from './assets/action2/2_0030.png'
import ac32 from './assets/action2/2_0031.png'
import ac33 from './assets/action2/2_0032.png'
import ac34 from './assets/action2/2_0033.png'
import ac35 from './assets/action2/2_0034.png'
import ac36 from './assets/action2/2_0035.png'
import ac37 from './assets/action2/2_0036.png'
import ac38 from './assets/action2/2_0037.png'
import ac39 from './assets/action2/2_0038.png'
import ac40 from './assets/action2/2_0039.png'
import ac41 from './assets/action2/2_0040.png'
import ac42 from './assets/action2/2_0041.png'
import ac43 from './assets/action2/2_0042.png'
import ac44 from './assets/action2/2_0043.png'
import ac45 from './assets/action2/2_0044.png'
import ac46 from './assets/action2/2_0045.png'
import ac47 from './assets/action2/2_0046.png'
import ac48 from './assets/action2/2_0047.png'
import ac49 from './assets/action2/2_0048.png'
import ac50 from './assets/action2/2_0049.png'
import ac51 from './assets/action2/2_0050.png'
import ac52 from './assets/action2/2_0051.png'
import ac53 from './assets/action2/2_0052.png'
import ac54 from './assets/action2/2_0053.png'
import ac55 from './assets/action2/2_0054.png'
import ac56 from './assets/action2/2_0055.png'
import ac57 from './assets/action2/2_0056.png'
import ac58 from './assets/action2/2_0057.png'
import ac59 from './assets/action2/2_0058.png'
import ac60 from './assets/action2/2_0059.png'
// import ac61 from './assets/action2/2_0060.png'
// import ac62 from './assets/action2/2_0061.png'
// import ac63 from './assets/action2/2_0062.png'
// import ac64 from './assets/action2/2_0063.png'
// import ac65 from './assets/action2/2_0064.png'
// import ac66 from './assets/action2/2_0065.png'
// import ac67 from './assets/action2/2_0066.png'
// import ac68 from './assets/action2/2_0067.png'
// import ac69 from './assets/action2/2_0068.png'
// import ac70 from './assets/action2/2_0069.png'
// import ac71 from './assets/action2/2_0070.png'
// import ac72 from './assets/action2/2_0071.png'
// import ac73 from './assets/action2/2_0072.png'
// import ac74 from './assets/action2/2_0073.png'
// import ac75 from './assets/action2/2_0074.png'
// import ac76 from './assets/action2/2_0075.png'
// import ac77 from './assets/action2/2_0076.png'
// import ac78 from './assets/action2/2_0077.png'
// import ac79 from './assets/action2/2_0078.png'
// import ac80 from './assets/action2/2_0079.png'
// import ac81 from './assets/action2/2_0080.png'
// import ac82 from './assets/action2/2_0081.png'
// import ac83 from './assets/action2/2_0082.png'
// import ac84 from './assets/action2/2_0083.png'
// import ac85 from './assets/action2/2_0084.png'
// import ac86 from './assets/action2/2_0085.png'
// import ac87 from './assets/action2/2_0086.png'
// import ac88 from './assets/action2/2_0087.png'
// import ac89 from './assets/action2/2_0088.png'
// import ac90 from './assets/action2/2_0089.png'
import ac91 from './assets/action2/2_0090.png'
import ac92 from './assets/action2/2_0091.png'
import ac93 from './assets/action2/2_0092.png'
import ac94 from './assets/action2/2_0093.png'
import ac95 from './assets/action2/2_0094.png'
import ac96 from './assets/action2/2_0095.png'
import ac97 from './assets/action2/2_0096.png'
import ac98 from './assets/action2/2_0097.png'
import ac99 from './assets/action2/2_0098.png'
import ac100 from './assets/action2/2_0099.png'
import ac101 from './assets/action2/2_0100.png'
import ac102 from './assets/action2/2_0101.png'
import ac103 from './assets/action2/2_0102.png'
import ac104 from './assets/action2/2_0103.png'
import ac105 from './assets/action2/2_0104.png'
import ac106 from './assets/action2/2_0105.png'
import ac107 from './assets/action2/2_0106.png'
import ac108 from './assets/action2/2_0107.png'
import ac109 from './assets/action2/2_0108.png'
import ac110 from './assets/action2/2_0109.png'
import ac111 from './assets/action2/2_0110.png'
import ac112 from './assets/action2/2_0111.png'
import ac113 from './assets/action2/2_0112.png'
import ac114 from './assets/action2/2_0113.png'
import ac115 from './assets/action2/2_0114.png'
import ac116 from './assets/action2/2_0115.png'
import ac117 from './assets/action2/2_0116.png'
import ac118 from './assets/action2/2_0117.png'
import ac119 from './assets/action2/2_0118.png'
import ac120 from './assets/action2/2_0119.png'
import ac121 from './assets/action2/2_0120.png'
import ac122 from './assets/action2/2_0121.png'
import ac123 from './assets/action2/2_0122.png'
import ac124 from './assets/action2/2_0123.png'
import ac125 from './assets/action2/2_0124.png'
import ac126 from './assets/action2/2_0125.png'
import ac127 from './assets/action2/2_0126.png'
import ac128 from './assets/action2/2_0127.png'
import ac129 from './assets/action2/2_0128.png'
import ac130 from './assets/action2/2_0129.png'
import ac131 from './assets/action2/2_0130.png'
import ac132 from './assets/action2/2_0131.png'
import ac133 from './assets/action2/2_0132.png'
import ac134 from './assets/action2/2_0133.png'
import ac135 from './assets/action2/2_0134.png'
import ac136 from './assets/action2/2_0135.png'
import ac137 from './assets/action2/2_0136.png'
import ac138 from './assets/action2/2_0137.png'
import ac139 from './assets/action2/2_0138.png'
import ac140 from './assets/action2/2_0139.png'
import ac141 from './assets/action2/2_0140.png'
import ac142 from './assets/action2/2_0141.png'
import ac143 from './assets/action2/2_0142.png'
import ac144 from './assets/action2/2_0143.png'
import ac145 from './assets/action2/2_0144.png'
import ac146 from './assets/action2/2_0145.png'
import ac147 from './assets/action2/2_0146.png'
import ac148 from './assets/action2/2_0147.png'
import ac149 from './assets/action2/2_0148.png'
// import ac150 from './assets/action2/2_0149.png'
// import ac151 from './assets/action2/2_0150.png'
// import ac152 from './assets/action2/2_0151.png'
// import ac153 from './assets/action2/2_0152.png'
// import ac154 from './assets/action2/2_0153.png'
// import ac155 from './assets/action2/2_0154.png'
// import ac156 from './assets/action2/2_0155.png'
// import ac157 from './assets/action2/2_0156.png'
// import ac158 from './assets/action2/2_0157.png'
// import ac159 from './assets/action2/2_0158.png'
// import ac160 from './assets/action2/2_0159.png'
// import ac161 from './assets/action2/2_0160.png'
// import ac162 from './assets/action2/2_0161.png'
// import ac163 from './assets/action2/2_0162.png'
// import ac164 from './assets/action2/2_0163.png'
// import ac165 from './assets/action2/2_0164.png'
// import ac166 from './assets/action2/2_0165.png'
// import ac167 from './assets/action2/2_0166.png'
// import ac168 from './assets/action2/2_0167.png'
// import ac169 from './assets/action2/2_0168.png'
// import ac170 from './assets/action2/2_0169.png'
// import ac171 from './assets/action2/2_0170.png'
// import ac172 from './assets/action2/2_0171.png'
// import ac173 from './assets/action2/2_0172.png'
// import ac174 from './assets/action2/2_0173.png'
// import ac175 from './assets/action2/2_0174.png'
// import ac176 from './assets/action2/2_0175.png'
// import ac177 from './assets/action2/2_0176.png'
// import ac178 from './assets/action2/2_0177.png'
// import ac179 from './assets/action2/2_0178.png'
// import ac180 from './assets/action2/2_0179.png'
import ac181 from './assets/action2/2_0180.png'
import ac182 from './assets/action2/2_0181.png'
import ac183 from './assets/action2/2_0182.png'
import ac184 from './assets/action2/2_0183.png'
import ac185 from './assets/action2/2_0184.png'
import ac186 from './assets/action2/2_0185.png'
import ac187 from './assets/action2/2_0186.png'
import ac188 from './assets/action2/2_0187.png'
import ac189 from './assets/action2/2_0188.png'
import ac190 from './assets/action2/2_0189.png'
import ac191 from './assets/action2/2_0190.png'
import ac192 from './assets/action2/2_0191.png'
import ac193 from './assets/action2/2_0192.png'
import ac194 from './assets/action2/2_0193.png'
import ac195 from './assets/action2/2_0194.png'
import ac196 from './assets/action2/2_0195.png'
import ac197 from './assets/action2/2_0196.png'
import ac198 from './assets/action2/2_0197.png'
import ac199 from './assets/action2/2_0198.png'
import ac200 from './assets/action2/2_0199.png'
import ac201 from './assets/action2/2_0200.png'
import ac202 from './assets/action2/2_0201.png'
import ac203 from './assets/action2/2_0202.png'
import ac204 from './assets/action2/2_0203.png'
import ac205 from './assets/action2/2_0204.png'
import ac206 from './assets/action2/2_0205.png'
import ac207 from './assets/action2/2_0206.png'
import ac208 from './assets/action2/2_0207.png'
import ac209 from './assets/action2/2_0208.png'
import ac210 from './assets/action2/2_0209.png'
import ac211 from './assets/action2/2_0210.png'
import ac212 from './assets/action2/2_0211.png'
import ac213 from './assets/action2/2_0212.png'
import ac214 from './assets/action2/2_0213.png'
import ac215 from './assets/action2/2_0214.png'
import ac216 from './assets/action2/2_0215.png'
import ac217 from './assets/action2/2_0216.png'
import ac218 from './assets/action2/2_0217.png'
import ac219 from './assets/action2/2_0218.png'
import ac220 from './assets/action2/2_0219.png'
import ac221 from './assets/action2/2_0220.png'
import ac222 from './assets/action2/2_0221.png'
import ac223 from './assets/action2/2_0222.png'
import ac224 from './assets/action2/2_0223.png'
import ac225 from './assets/action2/2_0224.png'
import ac226 from './assets/action2/2_0225.png'
import ac227 from './assets/action2/2_0226.png'
import ac228 from './assets/action2/2_0227.png'
import ac229 from './assets/action2/2_0228.png'
import ac230 from './assets/action2/2_0229.png'
import ac231 from './assets/action2/2_0230.png'
import ac232 from './assets/action2/2_0231.png'
import ac233 from './assets/action2/2_0232.png'
import ac234 from './assets/action2/2_0233.png'
import ac235 from './assets/action2/2_0234.png'
import ac236 from './assets/action2/2_0235.png'
import ac237 from './assets/action2/2_0236.png'
import ac238 from './assets/action2/2_0237.png'
import ac239 from './assets/action2/2_0238.png'
import ac240 from './assets/action2/2_0239.png'
import ac241 from './assets/action2/2_0239.png'
// 导入视频


export const imgs = [
  ac1, ac2, ac3, ac4, ac5, ac6, ac7, ac8, ac9, ac10,
  ac11, ac12, ac13, ac14, ac15, ac16, ac17, ac18, ac19, ac20,
  ac21, ac22, ac23, ac24, ac25, ac26, ac27, ac28, ac29, ac30,
  ac31, ac32, ac33, ac34, ac35, ac36, ac37, ac38, ac39, ac40,
  ac41, ac42, ac43, ac44, ac45, ac46, ac47, ac48, ac49, ac50,
  ac51, ac52, ac53, ac54, ac55, ac56, ac57, ac58, ac59, ac60,
  // ac61, ac62, ac63, ac64, ac65, ac66, ac67, ac68, ac69, ac70,
  // ac71, ac72, ac73, ac74, ac75, ac76, ac77, ac78, ac79, ac80,
  // ac81, ac82, ac83, ac84, ac85, ac86, ac87, ac88, ac89, ac90,
  ac91, ac92, ac93, ac94, ac95, ac96, ac97, ac98, ac99, ac100,
  ac101, ac102, ac103, ac104, ac105, ac106, ac107, ac108, ac109, ac110,
  ac111, ac112, ac113, ac114, ac115, ac116, ac117, ac118, ac119, ac120,
  ac121, ac122, ac123, ac124, ac125, ac126, ac127, ac128, ac129, ac130,
  ac131, ac132, ac133, ac134, ac135, ac136, ac137, ac138, ac139, ac140,
  ac141, ac142, ac143, ac144, ac145, ac146, ac147, ac148, ac149,
  // ac150,
  // ac151, ac152, ac153, ac154, ac155, ac156, ac157, ac158, ac159, ac160,
  // ac161, ac162, ac163, ac164, ac165, ac166, ac167, ac168, ac169, ac170,
  // ac171, ac172, ac173, ac174, ac175, ac176, ac177, ac178, ac179, ac180,
  ac181, ac182, ac183, ac184, ac185, ac186, ac187, ac188, ac189, ac190,
  ac191, ac192, ac193, ac194, ac195, ac196, ac197, ac198, ac199, ac200,
  ac201, ac202, ac203, ac204, ac205, ac206, ac207, ac208, ac209, ac210,
  ac211, ac212, ac213, ac214, ac215, ac216, ac217, ac218, ac219, ac220,
  ac221, ac222, ac223, ac224, ac225, ac226, ac227, ac228, ac229, ac230,
  ac231, ac232, ac233, ac234, ac235, ac236, ac237, ac238, ac239, ac240,
  ac241
]
// console.log('imgs.length::',imgs.length)
// 预先加载所有图片
const preloadImages = (max = 240, callback: (success: boolean) => void) => {
  let count = 0
  for (let i = 0; i <= max; i++) {
    const img = new Image()
    img.src = imgs[i]
    img.onload = () => {
      count++
      if (count === max) {
        console.log('all images loaded')
        callback(true)
      }
    }
    img.onerror = () => {
      console.error(`img ${i} load failed`)
      callback(false)
      // 如果图片加载失败，则不再继续加载
      return
    }
  }
}
// preloadImages to async 
export const preloadImagesAsync = (max = 240) => {
  return new Promise((resolve, reject) => {
    preloadImages(max, (success) => {
      if (success) {
        resolve(true)
      } else {
        reject(false)
      }
    })
  })
}
// 视频以30帧/秒
// frameDuration 默认50ms
// 分成三份
// 0 - 60
// 60 - 150
// 150 - 240
export const imagePart1 = imgs.slice(0, 90)
export const imagePart2 = imgs.slice(90, 180)
export const imagePart3 = imgs.slice(180, 240)

export function drawFrame(ctx: CanvasRenderingContext2D, img: HTMLImageElement) {
  if (img === undefined) {
    return
  }
  const devicePixelRatio = window.devicePixelRatio || 1
  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); // 清除画布
  // 获取 Canvas 尺寸
  const canvasWidth = ctx.canvas.width / devicePixelRatio;
  const canvasHeight = ctx.canvas.height / devicePixelRatio;
  // 计算图片比例并绘制
  const imgRatio = img.width / img.height;
  const canvasRatio = canvasWidth / canvasHeight;

  let drawWidth, drawHeight;
  if (canvasRatio > imgRatio) {
    // Canvas 更宽，按高度缩放
    drawHeight = canvasHeight;
    drawWidth = drawHeight * imgRatio;
  } else {
    // Canvas 更高，按宽度缩放
    drawWidth = canvasWidth;
    drawHeight = drawWidth / imgRatio;
  }

  // 计算绘制的 x 和 y 位置，使图片居中
  const x = (canvasWidth - drawWidth) / 2;
  const y = (canvasHeight - drawHeight) / 2;

  // 绘制当前帧
  //  避免绘制模糊哦
  // 按照 
  ctx.imageSmoothingEnabled = false;
  ctx.drawImage(img, x, y, drawWidth, drawHeight);

}
export function preloadVideo(url: string) {
  fetch(url)
    .then(response => {
      if (!response.ok) {
        throw new Error('网络错误，无法加载视频');
      }
      return response.blob(); // 将响应转为 Blob 对象
    })
    .then(() => {
      // const videoUrl = URL.createObjectURL(blob); // 创建可播放的 URL
      // video.src = videoUrl; // 将 URL 设置为视频源
      // video.load(); // 加载视频
    })
    .catch(error => {
      console.error('加载视频失败:', error);
    });
}